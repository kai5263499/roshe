<!DOCTYPE html> 
<html> 
    <head> 
	<title>My Page</title> 
    <script src="http://extjs.cachefly.net/touch/sencha-touch-2.0.1.1/sencha-touch-all-debug.js" type="text/javascript"></script>
    <link rel="stylesheet" href="http://extjs.cachefly.net/touch/sencha-touch-2.0.1.1/resources/css/sencha-touch.css" type="text/css">
    <script type="text/javascript">
// @idea use a data driven carousel like the one described here: http://edspencer.net/2012/02/building-a-data-driven-image-carousel-with-sencha-touch-2.html
Ext.application({
    name: 'Roshe',

    launch: function() {
        Ext.Ajax.request({
            url: '/q',
            success: function(response, opts) {
                var obj = Ext.decode(response.responseText);
                console.dir(obj);
                
                var store = new Ext.data.TreeStore({
                    id:'QuestionStore',
                    fields: ['t', 'children'],
                    data: obj,
                    proxy : 'memory'
                });
                
                Ext.create("Ext.tab.Panel", {
                    fullscreen: true,
                    tabBarPosition: 'bottom',
        
                    items: [
                        {
                            title: 'Home',
                            iconCls: 'home',
                            html: [
                                '<img src="http://staging.sencha.com/img/sencha.png" />',
                                '<h1>Welcome to the Roshe project</h1>',
                                '<div>',obj.q,'</div>'
                            ].join("")
                        }
                    ]
                });
            },
            failure: function(response, opts) {
                console.log('server-side failure with status code ' + response.status);
            }
        });
    }
});

        </script>
</head> 
<body></body>
</html>